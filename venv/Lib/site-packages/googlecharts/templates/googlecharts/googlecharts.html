<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
     google.charts.load('current', {'packages':['corechart'], 'language': 'ru'});
     google.charts.setOnLoadCallback(googlecharts_main);

    function _clone(obj) {
        return obj;
    }

    googlecharts = [];
    var opt;
    {{ googlecharts_js|safe }}

    var chartsDatas = [];
    function googlecharts_main() {
        if (typeof googlecharts == "undefined") return;
        for (var i = 0; i < googlecharts.length; ++i) {
            var c = googlecharts[i];
            var data = new google.visualization.DataTable();
            for (var j = 0; j < c.rows._cl.length; ++j) {
                data.addColumn(c.rows._cl[j][0], c.rows._cl[j][1]);
            }
            data.addRows(c.rows);
            chartsDatas.push(data);
        }
    }

    function drawAll() {
        for (var i = 0; i < googlecharts.length; ++i) {
            var c = googlecharts[i];
            var cont = document.getElementById(c.container);
            eval("var chart = new google.visualization."+[c.kind]+"(cont)");
            chart.draw(chartsDatas[i], c.options);
            setTimeout(function() {},1000);
        }
        document.querySelectorAll("#count_graph1>div:nth-child(1)>div:nth-child(1)>div:nth-child(1)>svg>rect")[0].setAttribute("fill", "url(#my-gradient) #447799");
    }

    setTimeout(drawAll, 1000);

    var PCbutton = 1;

    document.querySelectorAll("#module_4 > .module_title")[0].onclick = function() {
        if (PCbutton == 0){ drawAll(); }
        PCbutton = (PCbutton == 1) ? 0 : 1;
    }
</script>